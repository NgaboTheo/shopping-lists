<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        button{
            background-color: #008060;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <button onclick="payWithPaystack()">Pay with MOMO </button>

        <div class="payment-method">
        <h3>Select Payment Method</h3>
        <label for="provider">Mobile Money Provider:</label>
        <select id="provider" name="provider">
            <option value="mtn">MTN Mobile Money</option>
            <option value="airtel">Airtel Money</option>
            <!-- Add other providers as needed -->
        </select>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" placeholder="e.g., 0771234567">

        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" min="1">

        <button id="payButton">Pay Now</button>
    </div>
<script>
function paywithpaystack(){
    let handler = PayatackPop.setup({
        key: 'YOUR_PUBLIC_KEY',
        email:'customer@gmail.com',
        amount: 10000,
        currency: 'FRW',
        ref: 'MTN_MO_123456789',
        metadata:{
            custom_fields: [
                {
                    display_name: 'Mobile Number',
                    variable: 'Mobile_number',
                    value: '+25078345356',
                }
            ]
        }
    },
    callback = function(response){
        alert('payment complete reference:'+response.reference);
    },
    onClose = function(){
        alert('payment canceled');
    });
    handler.openIframe();

}
</script>
<script src:"https://js.paystack.co/v1/inline.js"></script>

    <script>
    document.getElementById('payButton').addEventListener('click', function() {
        const provider = document.getElementById('provider').value;
        const phone = document.getElementById('phone').value;
        const amount = document.getElementById('amount').value;

        // In a real application, you would send this data to your backend
        // which then interacts with a payment gateway like Flutterwave, Paystack, etc.
        // For demonstration, we'll just log it.
        console.log(`Initiating payment for ${provider} with phone ${phone} and amount ${amount}`);

        // Example of a hypothetical API call (requires a backend)
        
        fetch('/api/process-mobile-money-payment', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ provider, phone, amount })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Payment initiated successfully! Please complete the transaction on your phone.');
            } else {
                alert('Payment initiation failed: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('An error occurred during payment initiation.');
        });

    });</script>
</body>
</html>